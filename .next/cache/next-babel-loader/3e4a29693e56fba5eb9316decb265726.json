{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport { useCallback } from \"react\";\nimport useSushi from \"./useSushi\";\nimport { useWallet } from \"use-wallet\";\nimport { approve, getMasterChefContract } from \"../sushi/utils\";\n\nvar useApprove = function useApprove(lpContract) {\n  _s();\n\n  var _useWallet = useWallet(),\n      account = _useWallet.account;\n\n  var sushi = useSushi();\n  var masterChefContract = getMasterChefContract(sushi);\n  var handleApprove = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var tx;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return approve(lpContract, masterChefContract, account);\n\n          case 3:\n            tx = _context.sent;\n            return _context.abrupt(\"return\", tx);\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", false);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 7]]);\n  })), [account, lpContract, masterChefContract]);\n  return {\n    onApprove: handleApprove\n  };\n};\n\n_s(useApprove, \"K/tO9/iZRVe6DsBCfqzYboGrf3U=\", false, function () {\n  return [useWallet, useSushi];\n});\n\nexport default useApprove;","map":{"version":3,"sources":["/Users/theo/frontend/hooks/useApprove.ts"],"names":["useCallback","useSushi","useWallet","approve","getMasterChefContract","useApprove","lpContract","account","sushi","masterChefContract","handleApprove","tx","onApprove"],"mappings":";;;;;AAAA,SAASA,WAAT,QAA4B,OAA5B;AAEA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,SAAT,QAA0B,YAA1B;AAGA,SAASC,OAAT,EAAkBC,qBAAlB,QAA+C,gBAA/C;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,UAAD,EAA0B;AAAA;;AAAA,mBACaJ,SAAS,EADtB;AAAA,MACnCK,OADmC,cACnCA,OADmC;;AAE3C,MAAMC,KAAK,GAAGP,QAAQ,EAAtB;AACA,MAAMQ,kBAAkB,GAAGL,qBAAqB,CAACI,KAAD,CAAhD;AAEA,MAAME,aAAa,GAAGV,WAAW,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEbG,OAAO,CAACG,UAAD,EAAaG,kBAAb,EAAiCF,OAAjC,CAFM;;AAAA;AAExBI,YAAAA,EAFwB;AAAA,6CAGvBA,EAHuB;;AAAA;AAAA;AAAA;AAAA,6CAKvB,KALuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAO9B,CAACJ,OAAD,EAAUD,UAAV,EAAsBG,kBAAtB,CAP8B,CAAjC;AASA,SAAO;AAAEG,IAAAA,SAAS,EAAEF;AAAb,GAAP;AACD,CAfD;;GAAML,U;UACoDH,S,EAC1CD,Q;;;AAehB,eAAeI,UAAf","sourcesContent":["import { useCallback } from \"react\";\n\nimport useSushi from \"./useSushi\";\nimport { useWallet } from \"use-wallet\";\nimport { Contract } from \"web3-eth-contract\";\n\nimport { approve, getMasterChefContract } from \"../sushi/utils\";\n\nconst useApprove = (lpContract: Contract) => {\n  const { account }: { account: string; ethereum: any } = useWallet();\n  const sushi = useSushi();\n  const masterChefContract = getMasterChefContract(sushi);\n\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(lpContract, masterChefContract, account);\n      return tx;\n    } catch (e) {\n      return false;\n    }\n  }, [account, lpContract, masterChefContract]);\n\n  return { onApprove: handleApprove };\n};\n\nexport default useApprove;\n"]},"metadata":{},"sourceType":"module"}